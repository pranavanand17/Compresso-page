<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login â€” Compresso</title>
<style>
  body { font-family:sans-serif; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; }
  input, button { padding:10px; margin:5px; width:200px; }
  .error { color:red; margin-top:5px; }
</style>
</head>
<body>
  <h1>Login</h1>
  <form id="loginForm">
    <input type="text" id="username" placeholder="Username" required /><br>
    <input type="password" id="password" placeholder="Password" required /><br>
    <button type="submit">Login</button>
    <div class="error" id="errorMessage"></div>
  </form>

  <script>
    const form = document.getElementById('loginForm');
    const errorMessage = document.getElementById('errorMessage');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      errorMessage.textContent = '';

      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;

      const users = JSON.parse(localStorage.getItem('users') || '{}');
      if (!users[username] || users[username].password !== password) {
        errorMessage.textContent = 'Invalid username or password';
        return;
      }

      localStorage.setItem('loggedInUser', username);

      // Redirect to web app
      window.location.href = 'webapp.html';
    });
  </script>
</body>
</html>

