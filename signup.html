<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Signup â€” Compresso</title>
<style>
  body { font-family:sans-serif; display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; }
  input, button { padding:10px; margin:5px; width:200px; }
  .error { color:red; margin-top:5px; }
</style>
</head>
<body>
  <h1>Signup</h1>
  <form id="signupForm">
    <input type="text" id="username" placeholder="Username" required /><br>
    <input type="password" id="password" placeholder="Password" required /><br>
    <input type="password" id="confirmPassword" placeholder="Confirm Password" required /><br>
    <button type="submit">Sign Up</button>
    <div class="error" id="errorMessage"></div>
  </form>

  <script>
    const form = document.getElementById('signupForm');
    const errorMessage = document.getElementById('errorMessage');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      errorMessage.textContent = '';

      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;
      const confirm = document.getElementById('confirmPassword').value;

      if (password !== confirm) {
        errorMessage.textContent = 'Passwords do not match';
        return;
      }

      const users = JSON.parse(localStorage.getItem('users') || '{}');
      if (users[username]) {
        errorMessage.textContent = 'Username already exists';
        return;
      }

      users[username] = { password };
      localStorage.setItem('users', JSON.stringify(users));

      // Redirect to login
      window.location.href = 'login.html';
    });
  </script>
</body>
</html>

